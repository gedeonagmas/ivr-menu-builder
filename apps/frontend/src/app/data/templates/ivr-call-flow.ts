import { DiagramModel, TemplateModel } from '@workflow-builder/types/common';

const diagram: DiagramModel = {
  name: 'IVR Call Flow',
  layoutDirection: 'RIGHT',
  diagram: {
    nodes: [
      {
        id: 'ivr-incoming-call-001',
        type: 'node',
        position: { x: 18, y: 360 },
        data: {
          segments: [],
          properties: {
            label: 'Incoming Call',
            description: 'Handle incoming phone calls',
            callSource: 'any',
            timeOfDay: 'any',
            status: 'active',
          },
          type: 'incoming-call',
          icon: 'PhoneIncoming',
        },
        selected: false,
        measured: { width: 258, height: 64 },
        dragging: false,
      },
      {
        id: 'ivr-play-welcome-001',
        type: 'node',
        position: { x: 378, y: 360 },
        data: {
          segments: [],
          properties: {
            label: 'Play Welcome Message',
            description: 'Play audio or text-to-speech message',
            messageType: 'tts',
            messageText: 'Welcome to our customer service. Please listen carefully to the following options.',
            voice: 'default',
            language: 'en-US',
            speed: 1,
            volume: 100,
            interruptible: true,
            status: 'active',
          },
          type: 'play-message',
          icon: 'Megaphone',
        },
        selected: false,
        measured: { width: 258, height: 64 },
        dragging: false,
      },
      {
        id: 'ivr-play-menu-001',
        type: 'node',
        position: { x: 738, y: 360 },
        data: {
          segments: [],
          properties: {
            label: 'Play Menu Options',
            description: 'Play audio or text-to-speech message',
            messageType: 'tts',
            messageText: 'Press 1 for Sales, Press 2 for Support, Press 3 for Billing, Press 0 to speak with an operator.',
            voice: 'default',
            language: 'en-US',
            speed: 1,
            volume: 100,
            interruptible: false,
            status: 'active',
          },
          type: 'play-message',
          icon: 'Megaphone',
        },
        selected: false,
        measured: { width: 258, height: 64 },
        dragging: false,
      },
      {
        id: 'ivr-gather-input-001',
        type: 'node',
        position: { x: 1098, y: 360 },
        data: {
          segments: [],
          properties: {
            label: 'Gather Menu Selection',
            description: 'Collect DTMF or voice input from caller',
            inputType: 'dtmf',
            maxDigits: 1,
            minDigits: 1,
            timeout: 5,
            finishOnKey: '#',
            variableName: 'menuSelection',
            status: 'active',
          },
          type: 'gather-input',
          icon: 'Keyboard',
        },
        selected: false,
        measured: { width: 258, height: 64 },
        dragging: false,
      },
      {
        id: 'ivr-decision-menu-001',
        type: 'decision-node',
        position: { x: 1458, y: 360 },
        data: {
          segments: [
            {
              id: 'segment-1',
              label: '1',
              conditions: [
                {
                  id: 'cond-1',
                  field: 'menuSelection',
                  operator: 'isEqual',
                  value: '1',
                },
              ],
            },
            {
              id: 'segment-2',
              label: '2',
              conditions: [
                {
                  id: 'cond-2',
                  field: 'menuSelection',
                  operator: 'isEqual',
                  value: '2',
                },
              ],
            },
            {
              id: 'segment-3',
              label: '3',
              conditions: [
                {
                  id: 'cond-3',
                  field: 'menuSelection',
                  operator: 'isEqual',
                  value: '3',
                },
              ],
            },
            {
              id: 'segment-0',
              label: '0',
              conditions: [
                {
                  id: 'cond-0',
                  field: 'menuSelection',
                  operator: 'isEqual',
                  value: '0',
                },
              ],
            },
            {
              id: 'segment-timeout',
              label: 'Timeout',
              conditions: [
                {
                  id: 'cond-timeout',
                  field: 'menuSelection',
                  operator: 'isEqual',
                  value: '',
                },
              ],
            },
          ],
          properties: {
            label: 'Route by Menu Selection',
            description: 'Route the workflow',
          },
          type: 'decision',
          icon: 'ArrowsSplit',
        },
        selected: false,
        measured: { width: 258, height: 64 },
        dragging: false,
      },
      {
        id: 'ivr-transfer-sales-001',
        type: 'node',
        position: { x: 1818, y: 180 },
        data: {
          segments: [],
          properties: {
            label: 'Transfer to Sales',
            description: 'Transfer call to agent, queue, or number',
            transferType: 'queue',
            queueId: 'sales-queue',
            transferMethod: 'warm',
            timeout: 30,
            recordCall: false,
            status: 'active',
          },
          type: 'transfer-call',
          icon: 'PhoneTransfer',
        },
        selected: false,
        measured: { width: 258, height: 64 },
        dragging: false,
      },
      {
        id: 'ivr-transfer-support-001',
        type: 'node',
        position: { x: 1818, y: 360 },
        data: {
          segments: [],
          properties: {
            label: 'Transfer to Support',
            description: 'Transfer call to agent, queue, or number',
            transferType: 'queue',
            queueId: 'support-queue',
            transferMethod: 'warm',
            timeout: 30,
            recordCall: false,
            status: 'active',
          },
          type: 'transfer-call',
          icon: 'PhoneTransfer',
        },
        selected: false,
        measured: { width: 258, height: 64 },
        dragging: false,
      },
      {
        id: 'ivr-transfer-billing-001',
        type: 'node',
        position: { x: 1818, y: 540 },
        data: {
          segments: [],
          properties: {
            label: 'Transfer to Billing',
            description: 'Transfer call to agent, queue, or number',
            transferType: 'queue',
            queueId: 'billing-queue',
            transferMethod: 'warm',
            timeout: 30,
            recordCall: false,
            status: 'active',
          },
          type: 'transfer-call',
          icon: 'PhoneTransfer',
        },
        selected: false,
        measured: { width: 258, height: 64 },
        dragging: false,
      },
      {
        id: 'ivr-wait-operator-001',
        type: 'node',
        position: { x: 1818, y: 720 },
        data: {
          segments: [],
          properties: {
            label: 'Wait for Operator',
            description: 'Wait or put caller on hold',
            waitType: 'hold',
            duration: 60,
            holdMusic: 'https://example.com/hold-music.mp3',
            status: 'active',
          },
          type: 'wait-hold',
          icon: 'Clock',
        },
        selected: false,
        measured: { width: 258, height: 64 },
        dragging: false,
      },
      {
        id: 'ivr-transfer-operator-001',
        type: 'node',
        position: { x: 2178, y: 720 },
        data: {
          segments: [],
          properties: {
            label: 'Transfer to Operator',
            description: 'Transfer call to agent, queue, or number',
            transferType: 'queue',
            queueId: 'operator-queue',
            transferMethod: 'warm',
            timeout: 30,
            recordCall: true,
            status: 'active',
          },
          type: 'transfer-call',
          icon: 'PhoneTransfer',
        },
        selected: false,
        measured: { width: 258, height: 64 },
        dragging: false,
      },
      {
        id: 'ivr-play-timeout-001',
        type: 'node',
        position: { x: 1818, y: 900 },
        data: {
          segments: [],
          properties: {
            label: 'Play Timeout Message',
            description: 'Play audio or text-to-speech message',
            messageType: 'tts',
            messageText: 'We did not receive your selection. Please call back and try again. Goodbye.',
            voice: 'default',
            language: 'en-US',
            speed: 1,
            volume: 100,
            interruptible: false,
            status: 'active',
          },
          type: 'play-message',
          icon: 'Megaphone',
        },
        selected: false,
        measured: { width: 258, height: 64 },
        dragging: false,
      },
      {
        id: 'ivr-hangup-timeout-001',
        type: 'node',
        position: { x: 2178, y: 900 },
        data: {
          segments: [],
          properties: {
            label: 'Hang Up',
            description: 'End the call',
            reason: 'Timeout - No input received',
            status: 'active',
          },
          type: 'hang-up',
          icon: 'PhoneX',
        },
        selected: false,
        measured: { width: 258, height: 64 },
        dragging: false,
      },
      {
        id: 'ivr-conditional-sales-001',
        type: 'node',
        position: { x: 2178, y: 180 },
        data: {
          segments: [],
          properties: {
            label: 'Is Sales Available?',
            description: 'Branch the workflow',
          },
          type: 'conditional',
          icon: 'ListChecks',
        },
        selected: false,
        measured: { width: 258, height: 64 },
        dragging: false,
      },
      {
        id: 'ivr-play-sales-busy-001',
        type: 'node',
        position: { x: 2538, y: 270 },
        data: {
          segments: [],
          properties: {
            label: 'Play Sales Busy Message',
            description: 'Play audio or text-to-speech message',
            messageType: 'tts',
            messageText: 'All sales representatives are currently busy. Please leave a voicemail and we will call you back.',
            voice: 'default',
            language: 'en-US',
            speed: 1,
            volume: 100,
            interruptible: false,
            status: 'active',
          },
          type: 'play-message',
          icon: 'Megaphone',
        },
        selected: false,
        measured: { width: 258, height: 64 },
        dragging: false,
      },
      {
        id: 'ivr-record-voicemail-001',
        type: 'node',
        position: { x: 2898, y: 270 },
        data: {
          segments: [],
          properties: {
            label: 'Record Voicemail',
            description: 'Record voicemail message from caller',
            maxDuration: 300,
            timeout: 10,
            finishOnKey: '#',
            playBeep: true,
            transcription: true,
            emailNotification: true,
            emailAddress: 'sales@example.com',
            storageLocation: 'default',
            status: 'active',
          },
          type: 'record-voicemail',
          icon: 'Microphone',
        },
        selected: false,
        measured: { width: 258, height: 64 },
        dragging: false,
      },
      {
        id: 'ivr-hangup-voicemail-001',
        type: 'node',
        position: { x: 3258, y: 270 },
        data: {
          segments: [],
          properties: {
            label: 'Hang Up',
            description: 'End the call',
            reason: 'Voicemail recorded',
            status: 'active',
          },
          type: 'hang-up',
          icon: 'PhoneX',
        },
        selected: false,
        measured: { width: 258, height: 64 },
        dragging: false,
      },
    ],
    edges: [
      {
        source: 'ivr-incoming-call-001',
        sourceHandle: 'ivr-incoming-call-001:source',
        target: 'ivr-play-welcome-001',
        targetHandle: 'ivr-play-welcome-001:target',
        zIndex: 0,
        type: 'labelEdge',
        id: 'edge-incoming-welcome',
      },
      {
        source: 'ivr-play-welcome-001',
        sourceHandle: 'ivr-play-welcome-001:source',
        target: 'ivr-play-menu-001',
        targetHandle: 'ivr-play-menu-001:target',
        zIndex: 0,
        type: 'labelEdge',
        id: 'edge-welcome-menu',
      },
      {
        source: 'ivr-play-menu-001',
        sourceHandle: 'ivr-play-menu-001:source',
        target: 'ivr-gather-input-001',
        targetHandle: 'ivr-gather-input-001:target',
        zIndex: 0,
        type: 'labelEdge',
        id: 'edge-menu-gather',
      },
      {
        source: 'ivr-gather-input-001',
        sourceHandle: 'ivr-gather-input-001:source',
        target: 'ivr-decision-menu-001',
        targetHandle: 'ivr-decision-menu-001:target',
        zIndex: 0,
        type: 'labelEdge',
        id: 'edge-gather-decision',
      },
      {
        source: 'ivr-decision-menu-001',
        sourceHandle: 'ivr-decision-menu-001:source-segment-1',
        target: 'ivr-transfer-sales-001',
        targetHandle: 'ivr-transfer-sales-001:target',
        zIndex: 0,
        type: 'labelEdge',
        id: 'edge-decision-sales',
        data: { label: '1' },
      },
      {
        source: 'ivr-decision-menu-001',
        sourceHandle: 'ivr-decision-menu-001:source-segment-2',
        target: 'ivr-transfer-support-001',
        targetHandle: 'ivr-transfer-support-001:target',
        zIndex: 0,
        type: 'labelEdge',
        id: 'edge-decision-support',
        data: { label: '2' },
      },
      {
        source: 'ivr-decision-menu-001',
        sourceHandle: 'ivr-decision-menu-001:source-segment-3',
        target: 'ivr-transfer-billing-001',
        targetHandle: 'ivr-transfer-billing-001:target',
        zIndex: 0,
        type: 'labelEdge',
        id: 'edge-decision-billing',
        data: { label: '3' },
      },
      {
        source: 'ivr-decision-menu-001',
        sourceHandle: 'ivr-decision-menu-001:source-segment-0',
        target: 'ivr-wait-operator-001',
        targetHandle: 'ivr-wait-operator-001:target',
        zIndex: 0,
        type: 'labelEdge',
        id: 'edge-decision-operator',
        data: { label: '0' },
      },
      {
        source: 'ivr-decision-menu-001',
        sourceHandle: 'ivr-decision-menu-001:source-segment-timeout',
        target: 'ivr-play-timeout-001',
        targetHandle: 'ivr-play-timeout-001:target',
        zIndex: 0,
        type: 'labelEdge',
        id: 'edge-decision-timeout',
        data: { label: 'Timeout' },
      },
      {
        source: 'ivr-wait-operator-001',
        sourceHandle: 'ivr-wait-operator-001:source',
        target: 'ivr-transfer-operator-001',
        targetHandle: 'ivr-transfer-operator-001:target',
        zIndex: 0,
        type: 'labelEdge',
        id: 'edge-wait-transfer',
      },
      {
        source: 'ivr-play-timeout-001',
        sourceHandle: 'ivr-play-timeout-001:source',
        target: 'ivr-hangup-timeout-001',
        targetHandle: 'ivr-hangup-timeout-001:target',
        zIndex: 0,
        type: 'labelEdge',
        id: 'edge-timeout-hangup',
      },
      {
        source: 'ivr-transfer-sales-001',
        sourceHandle: 'ivr-transfer-sales-001:source',
        target: 'ivr-conditional-sales-001',
        targetHandle: 'ivr-conditional-sales-001:target',
        zIndex: 0,
        type: 'labelEdge',
        id: 'edge-transfer-conditional',
      },
      {
        source: 'ivr-conditional-sales-001',
        sourceHandle: 'ivr-conditional-sales-001:source',
        target: 'ivr-play-sales-busy-001',
        targetHandle: 'ivr-play-sales-busy-001:target',
        zIndex: 0,
        type: 'labelEdge',
        id: 'edge-conditional-busy',
        data: { label: 'No' },
      },
      {
        source: 'ivr-play-sales-busy-001',
        sourceHandle: 'ivr-play-sales-busy-001:source',
        target: 'ivr-record-voicemail-001',
        targetHandle: 'ivr-record-voicemail-001:target',
        zIndex: 0,
        type: 'labelEdge',
        id: 'edge-busy-voicemail',
      },
      {
        source: 'ivr-record-voicemail-001',
        sourceHandle: 'ivr-record-voicemail-001:source',
        target: 'ivr-hangup-voicemail-001',
        targetHandle: 'ivr-hangup-voicemail-001:target',
        zIndex: 0,
        type: 'labelEdge',
        id: 'edge-voicemail-hangup',
      },
    ],
    viewport: { x: 0, y: 0, zoom: 0.8 },
  },
};

export const ivrCallFlow: TemplateModel = {
  id: 5,
  name: 'IVR Call Flow',
  value: diagram,
  icon: 'PhoneCall',
};

